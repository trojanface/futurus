(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),o=(a(51),a(52),a(53),a(1)),s=(a(54),a(3)),m=a.n(s),i=function(e){return m.a.post("/auth/local",{username:e.username,password:e.userPassword})},u=function(){return m.a.get("/api/users/all")},d=function(e){return console.log(e),m.a.put("/api/users/"+e.user_id,{POS:e.POS,advertising:e.advertising,balances:e.balances,cashDrops:e.cashDrops,email:e.email,firstName:e.firstName,itemDesigner:e.itemDesigner,keyLayout:e.keyLayout,lastName:e.lastName,membership:e.membership,refunds:e.refunds,reports:e.reports,stocktake:e.stocktake,userDesigner:e.userDesigner,totTime:e.totTime,totalTrans:e.totalTrans})},b=function(e){return m.a.put("/api/users/"+e.user_id,{password:e.password})},g=function(e){return m.a.post("/api/users",{userName:e.userName,adminLevel:1,POS:e.POS,advertising:e.advertising,balances:e.balances,cashDrops:e.cashDrops,email:e.email,firstName:e.firstName,itemDesigner:e.itemDesigner,keyLayout:e.keyLayout,lastName:e.lastName,membership:e.membership,refunds:e.refunds,reports:e.reports,stocktake:e.stocktake,userDesigner:e.userDesigner,password:e.password,totTime:e.totTime,totalTrans:e.totalTrans})},p=function(e){return m.a.delete("/api/users/"+e)},E=function(){return console.log("getting departments"),m.a.get("/api/depts/all")},f=function(e){return m.a.post("/api/depts",{name:e})},h=function(e){return m.a.delete("/api/depts/"+e)},N=function(e){var t=e+1;return m.a.get("/api/items/"+t)},v=function(){return console.log("getting"),m.a.get("/api/items/")},k=function(e){return m.a.get("/api/items/single/"+e)},y=function(e){return m.a.delete("/api/items/"+e)},w=function(e){return e.cost=100*e.cost,e.price=100*e.price,e.departments=e.departments+1,console.log(e),m.a.post("/api/items/",{iconPath:e.iconPath,upsell:e.upsell,name:e.name,cost:e.cost,price:e.price,department:e.departments})},C=function(e){return""!=e.cost&&void 0!=e.cost&&(e.cost=100*e.cost,e.price=100*e.price),console.log(e),m.a.put("/api/items/"+e.prod_id,{iconPath:e.iconPath,upsell:e.upsell,stockCount:e.stockCount,name:e.name,cost:e.cost,price:e.price,department:e.department})},O=function(e){return console.log(e),m.a.post("/api/trans/",{user:e.user,transItems:e.transItems,transValue:e.transValue})},S=function(){return console.log("logging Out"),m.a.get("/logout")},B=function(e){return m.a.get("/api/items/find/"+e)},j=function(e){return m.a.get("https://api.openweathermap.org/data/2.5/weather?q=adelaide&appid=2a41be6b56e8918bc7efe98c840f4638")},T=Object(n.createContext)(0),P=T.Provider,F=function(e){var t=e.children,a=Object(n.useState)(0),r=Object(o.a)(a,2),c=r[0],s=r[1];return l.a.createElement(P,{value:{state:c,setState:s}},t)},x=a(2),M=function(e){return e.length<=0},D=a(6);a(88);var I=function(e,t,a,n){switch(e){case"info":D.NotificationManager.info(a,t,n);break;case"success":D.NotificationManager.success(a,t,n);break;case"warning":D.NotificationManager.warning(a,t,n);break;case"error":D.NotificationManager.error(a,t,n)}};function _(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),m=s[0],u=s[1],d=Object(n.useContext)(T),b=d.state,g=d.setState;return 0!=b?l.a.createElement(x.a,{to:"/userdesigner"}):l.a.createElement("div",null,l.a.createElement(D.NotificationContainer,null),l.a.createElement("div",{className:"row no-gutters "},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h1",{className:"mainHeading ml-12"},"Futurus"),l.a.createElement("h3",{className:"subHeading ml-12"},"The POS of the future")))),l.a.createElement("div",{className:"col-md-4 d-flex justify-content-center loginVert"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),!1===M(a)&&!1===M(m)?i({username:a,userPassword:m}).then((function(e){g({totTime:e.data.totTime,totalTrans:e.data.totalTrans,user_id:e.data.user_id,firstName:e.data.firstName,lastName:e.data.lastName,POS:e.data.POS,advertising:e.data.advertising,balances:e.data.balances,cashDrops:e.data.cashDrops,email:e.data.email,itemDesigner:e.data.itemDesigner,keyLayout:e.data.keyLayout,adminLevel:e.data.adminLevel,membership:e.data.membership,refunds:e.data.refunds,reports:e.data.reports,stocktake:e.data.stocktake,userDesigner:e.data.userDesigner})})).catch((function(e){I("error","Error","Username or password are not correct",4e3)})):I("error","Error","Login fields cannot be blank",4e3)}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("input",{className:"inputBox",value:a,onChange:function(e){r(e.target.value)},type:"text",placeholder:"Username"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("input",{className:"inputBox",value:m,onChange:function(e){u(e.target.value)},type:"password",placeholder:"Password"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("button",{className:"greenButton"},"Login"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},l.a.createElement("a",{href:"#"},"Forgot your username/password?")))))),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12 loginContactVert"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12  d-flex justify-content-center"},l.a.createElement("p",null,"Don't have an account?"))),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"offset-md-4"}),l.a.createElement("div",{className:"col-md-4  d-flex justify-content-center"},l.a.createElement("button",{className:"greenButton butt25"},"Contact Us"))))))}var L=a(14);function A(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("label",null,e.title)),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("input",{type:e.type?"password":"text",value:r,onChange:function(t){var a=t.target;c(a.value),e.changeValue([e,a.value])},placeholder:e.placehold})))}a(92);function V(){var e=Object(n.useContext)(T),t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1];switch(r){case 1:return l.a.createElement(x.a,{to:"/pos"});case 2:return l.a.createElement(x.a,{to:"/userdesigner"});case 3:return l.a.createElement(x.a,{to:"/itemdesigner"});case 4:case 5:return l.a.createElement(x.a,{to:"/pos"});case 6:return l.a.createElement(x.a,{to:"/stocktake"});case 7:case 8:case 9:return l.a.createElement(x.a,{to:"/pos"});case 10:return console.log("logging out"),e.state=0,l.a.createElement(x.a,{to:"/logout"})}return l.a.createElement("div",null,l.a.createElement("h1",{className:"mainHeading"},"Futurus"),l.a.createElement("h5",{className:"smallSubText pt-12"},"Welcome ",e.state.firstName),l.a.createElement("ul",{className:"noStyle"},e.state.POS?l.a.createElement("li",{key:"1"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(1)}},"POS")):l.a.createElement(l.a.Fragment,null),e.state.userDesigner?l.a.createElement("li",{key:"2"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(2)}},"User Designer")):l.a.createElement(l.a.Fragment,null),e.state.itemDesigner?l.a.createElement("li",{key:"3"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(3)}},"Item Designer")):l.a.createElement(l.a.Fragment,null),e.state.keyLayout?l.a.createElement("li",{key:"4"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(4)}},"POS Layout Editor")):l.a.createElement(l.a.Fragment,null),e.state.balances?l.a.createElement("li",{key:"5"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(5)}},"User Balance")):l.a.createElement(l.a.Fragment,null),e.state.stocktake?l.a.createElement("li",{key:"6"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(6)}},"Stocktake")):l.a.createElement(l.a.Fragment,null),e.state.reports?l.a.createElement("li",{key:"7"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(7)}},"Reports")):l.a.createElement(l.a.Fragment,null),e.state.membership?l.a.createElement("li",{key:"8"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(8)}},"Membership")):l.a.createElement(l.a.Fragment,null),e.state.advertising?l.a.createElement("li",{key:"9"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(9)}},"Advertising")):l.a.createElement(l.a.Fragment,null),l.a.createElement("li",{key:"10"},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return c(10)}},"Sign Out"))))}function H(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),m=s[0],i=s[1],u=Object(n.useState)(0),d=Object(o.a)(u,2),b=d[0],g=d[1],p=Object(n.useState)({}),v=Object(o.a)(p,2),O=v[0],S=v[1],B=Object(n.useState)(0),j=Object(o.a)(B,2),T=j[0],P=j[1],F=Object(n.useState)(!1),x=Object(o.a)(F,2),M=x[0],_=x[1],L=Object(n.useState)([]),H=Object(o.a)(L,2),U=(H[0],H[1],""),R=Object(n.useState)({name:"",cost:0,price:0,departments:0,isActive:!0,upsell:"",iconPath:""}),W=Object(o.a)(R,2),q=W[0],z=W[1];function $(){E().then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}function J(e){O[0][e[0].arrayTitle]=e[1]}function G(e){g(e+1),N(e).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}function K(e){var t=q;t[e[0].arrayTitle]=e[1],z(t)}return Object(n.useEffect)((function(){$()}),[]),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement(D.NotificationContainer,null),l.a.createElement("div",{className:"col-md-3 text-center"},l.a.createElement(V,null)),l.a.createElement("div",{className:"col-md-9 d-flex justify-content-center"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"modal fade",id:"deptModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Create New Department")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(A,{arrayTitle:"name",changeValue:function(e){U=e[1]},title:"Department Name",placehold:""})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary redButton","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:function(){f(U).then((function(){I("success","Success","Department created",3e3),$()})).catch((function(e){I("error","Error",e,5e3)}))},type:"button",className:"btn btn-primary greenButton","data-dismiss":"modal"},"Create Department"))))),l.a.createElement("div",{className:"modal fade",id:"itemModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Create New Item")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(A,{arrayTitle:"name",changeValue:K,title:"Item Name",placehold:""}),l.a.createElement(A,{arrayTitle:"cost",changeValue:K,title:"Cost Price",placehold:""}),l.a.createElement(A,{arrayTitle:"price",changeValue:K,title:"Retail Price",placehold:""}),l.a.createElement(A,{arrayTitle:"iconPath",changeValue:K,title:"Image Path",placehold:""}),b?l.a.createElement("p",null,"Department: ",a[b-1].name):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"btn btn-secondary greenButton dropdown-toggle",type:"button",id:"upsellMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Upsell Weather: ",q.upsell),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"upsellMenuButton"},l.a.createElement("button",{onClick:function(){K([{arrayTitle:"upsell"},""]),_(!M)},className:"dropdown-item"},"None"),l.a.createElement("button",{onClick:function(){K([{arrayTitle:"upsell"},"hot"]),_(!M)},className:"dropdown-item"},"Hot"),l.a.createElement("button",{onClick:function(){K([{arrayTitle:"upsell"},"cold"]),_(!M)},className:"dropdown-item"},"Cold")))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary redButton","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{onClick:function(){q.departments=b-1,w(q).then((function(){I("success","Success","Item created",3e3),G(b-1)})).catch((function(e){I("error","Error",e,5e3)}))},type:"button",className:"btn btn-primary greenButton","data-dismiss":"modal"},"Create Item"))))),l.a.createElement("div",{className:"row blueBackground"},l.a.createElement("div",{className:"col-md-3 whiteBackground blueHighlight pt-4"},l.a.createElement("h5",null,"Departments"),l.a.createElement("ul",{className:"noStyle"},a.map((function(e,t){return l.a.createElement("li",{className:"d-inline",key:t},l.a.createElement("button",{className:"d-inline blueButton butt75 mtb-2",onClick:function(){return G(t)}},e.name),l.a.createElement("button",{onClick:function(){return function(e){h(e+1).then((function(){I("success","Success","Department deleted",3e3),$()})).catch((function(e){I("error","Error",e,5e3)}))}(t)},className:"d-inline redButton butt25 mtb-2"},l.a.createElement("i",{class:"fa fa-trash","aria-hidden":"true"})))})),l.a.createElement("li",null,l.a.createElement("button",{className:"greenButton butt75 mtb-2","data-toggle":"modal","data-target":"#deptModal"},"Create Department")))),l.a.createElement("div",{className:"col-md-3 whiteBackground blueHighlight pt-4"},l.a.createElement("h5",null,"Items"),l.a.createElement("ul",{className:"noStyle"},a[0]&&m[0]?m.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){return t=e.prod_id,P(t),void k(t).then((function(e){e.data[0].cost=e.data[0].cost/100,e.data[0].price=e.data[0].price/100,S(e.data)})).catch((function(e){console.log(e)}));var t}},e.name))})):l.a.createElement(l.a.Fragment,null," "),b?l.a.createElement("button",{className:"greenButton butt75 mtb-2","data-toggle":"modal","data-target":"#itemModal"},"Create Item"):l.a.createElement(l.a.Fragment,null))),l.a.createElement("div",{className:"col-md-6 whiteBackground blueHighlight pt-4"},O[0]?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",null,O[0].name),l.a.createElement(A,{arrayTitle:"name",changeValue:J,title:"Name",placehold:O[0].name}),l.a.createElement(A,{arrayTitle:"cost",changeValue:J,title:"Cost Price",placehold:O[0].cost}),l.a.createElement(A,{arrayTitle:"price",changeValue:J,title:"Retail Price",placehold:O[0].price}),l.a.createElement(A,{arrayTitle:"iconPath",changeValue:J,title:"Image Path",placehold:O[0].iconPath}),l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"btn btn-secondary greenButton dropdown-toggle mt-2",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Department: ",a[O[0].department-1].name),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a[0]?a.map((function(e,t){return l.a.createElement("button",{key:t,onClick:function(){var e=O;e[0].department=t+1,S(e),_(!M)},className:"dropdown-item"},e.name)})):l.a.createElement(l.a.Fragment,null," "))),l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{className:"btn btn-secondary greenButton dropdown-toggle mt-2",type:"button",id:"upsellMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Upsell Weather: ",O[0].upsell),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"upsellMenuButton"},l.a.createElement("button",{onClick:function(){J([{arrayTitle:"upsell"},""]),_(!M)},className:"dropdown-item"},"None"),l.a.createElement("button",{onClick:function(){J([{arrayTitle:"upsell"},"hot"]),_(!M)},className:"dropdown-item"},"Hot"),l.a.createElement("button",{onClick:function(){J([{arrayTitle:"upsell"},"cold"]),_(!M)},className:"dropdown-item"},"Cold")))):l.a.createElement("h5",null,"Please select a department and an item first"))),O[0]?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50",onClick:function(){C(O[0]).then((function(){I("success","Success","Item updated",3e3),S({}),G(b-1)})).catch((function(e){I("error","Error",e,5e3)}))}},"Save Changes")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"redButton butt50",onClick:function(){y(T).then((function(){I("success","Success","Item deleted",3e3),S({}),G(b-1)})).catch((function(e){I("error","Error",e,5e3)}))}},"Delete Item"))):l.a.createElement(l.a.Fragment,null," "))))}a(93);function U(e){var t=Object(n.useState)("Disabled"),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){!0===e.storedValue?c("Enabled"):c("Disabled")}),[e.storedValue]),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},e.title),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{className:"".concat(r," butt50 mtb-2"),onClick:function(){e.toggleFunc(e.storedSelection,e.storedElement)}},"".concat(r))))}function R(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(0),s=Object(o.a)(c,2),m=s[0],i=s[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],N=f[1],v=Object(n.useContext)(T),k=v.state,y=(v.setState,""),w="",C=["POS","userDesigner","itemDesigner","keyLayout","stocktake","reports","membership","advertising","refunds","cashDrops","balances"],O=["POS","User Designer","Item Designer","Key Layout","Stocktake","Reports","Membership","Advertising","Refunds","Cash Drops","Balances"],S=Object(n.useState)({POS:!1,advertising:!1,balances:!1,cashDrops:!1,email:"",firstName:"",itemDesigner:!1,keyLayout:!1,lastName:"",membership:!1,refunds:!1,reports:!1,stocktake:!1,userDesigner:!1,password:"",adminLevel:1,isActive:!0,totTime:0,totalTrans:0,passwordConf:""}),B=Object(o.a)(S,2),j=B[0],P=B[1];function F(){u().then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}function x(e){switch(e[0].arrayTitle){case"password1":e[1];break;case"password2":y=e[1];break;case"password3":w=e[1];break;default:return void(a[m][e[0].arrayTitle]=e[1])}}function M(e){var t=j;t[e[0].arrayTitle]=e[1],P(t)}function _(e,t){var n=a;n[e][t]=!n[e][t],r(n),N(!h)}function L(e,t){var a=j;a[t]=!a[t],P(a),N(!h)}return Object(n.useEffect)((function(){F()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(D.NotificationContainer,null),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-3 text-center"},l.a.createElement(V,null)),l.a.createElement("div",{className:"col-md-9 d-flex justify-content-center"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row blueBackground "},l.a.createElement("div",{className:"modal fade",id:"userModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Create New User")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(A,{arrayTitle:"userName",changeValue:M,title:"Username",placehold:""}),l.a.createElement(A,{arrayTitle:"firstName",changeValue:M,title:"First Name",placehold:""}),l.a.createElement(A,{arrayTitle:"lastName",changeValue:M,title:"Last Name",placehold:""}),l.a.createElement(A,{arrayTitle:"email",changeValue:M,title:"Email",placehold:""}),l.a.createElement(A,{type:"password",arrayTitle:"password",changeValue:M,title:"Password",placehold:""}),l.a.createElement(A,{type:"password",arrayTitle:"passwordConf",changeValue:M,title:"Confirm Password",placehold:""}),l.a.createElement("h5",null,"Permissions"),C.map((function(e,t){return l.a.createElement("div",{key:t,className:"row whiteBackground blueHighlight mt-1"},l.a.createElement("div",{className:"col-md-4"},O[t]),l.a.createElement("div",{className:"col-md-8 text-right"},l.a.createElement(U,{toggleFunc:L,storedElement:e,storedSelection:-1,storedValue:j[e]})))}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary redButton","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{type:"button",onClick:function(){j.password===j.passwordConf?(console.log(j),g(j).then((function(){F(),I("success","Success","New user created",4e3)})).catch((function(e){console.log(e)}))):(console.log(j),I("error","Error","Passwords do not match",4e3))},className:"btn btn-primary greenButton","data-dismiss":"modal"},"Create User"))))),l.a.createElement("div",{className:"modal fade",id:"passwordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"New Password")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(A,{type:"password",arrayTitle:"password1",changeValue:x,title:"Current Password",placehold:""}),l.a.createElement(A,{type:"password",arrayTitle:"password2",changeValue:x,title:"New Password",placehold:""}),l.a.createElement(A,{type:"password",arrayTitle:"password3",changeValue:x,title:"Confirm Password",placehold:""})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancel"),l.a.createElement("button",{type:"button",onClick:function(){y.length>0?y===w?(a[m].password=w,b(a[m]),I("success","Success","Password updated",3e3)):I("error","Error","Your passwords do not match",4e3):I("error","Error","Cannot have blank password",4e3)},className:"btn btn-primary","data-dismiss":"modal"},"Confirm"))))),l.a.createElement("div",{className:"col-md-4 whiteBackground blueHighlight pt-4"},l.a.createElement("h5",null,"Users"),l.a.createElement("ul",{className:"noStyle"},a.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("button",{className:"blueButton butt75 mtb-2",onClick:function(){i(t)}},e.firstName," ",e.lastName))})),l.a.createElement("li",null,l.a.createElement("button",{className:"greenButton butt75 mtb-2","data-toggle":"modal","data-target":"#userModal"},"Create User")))),l.a.createElement("div",{className:"col-md-8 whiteBackground blueHighlight pt-4"},k.user_id-1!=m&&l.a.createElement("ul",null,a[0]?l.a.createElement("div",null,l.a.createElement("h5",null,a[0]?"".concat(a[m].firstName," ").concat(a[m].lastName):""),l.a.createElement(A,{arrayTitle:"username",changeValue:x,title:"Username",placehold:a[m].userName}),l.a.createElement(A,{arrayTitle:"firstName",changeValue:x,title:"First Name",placehold:a[m].firstName}),l.a.createElement(A,{arrayTitle:"lastName",changeValue:x,title:"Last Name",placehold:a[m].lastName}),l.a.createElement(A,{arrayTitle:"email",changeValue:x,title:"Email",placehold:a[m].email}),l.a.createElement("button",{className:"greenButton  butt50","data-toggle":"modal","data-target":"#passwordModal"},"Change Password"),l.a.createElement("h5",null,"Permissions"),k.user_id-1!=m&&C.map((function(e,t){return l.a.createElement("div",{key:t,className:"row"},l.a.createElement("div",{className:"col-md-4"},O[t]),l.a.createElement("div",{className:"col-md-7"},l.a.createElement(U,{toggleFunc:_,storedElement:e,storedSelection:m,storedValue:a[m][e]})))})),k.user_id-1===m&&l.a.createElement("h5",null,"You cannot edit your own permissions.")):"Please select a user"))),a[0]?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50",onClick:function(){d(a[m]).then((function(){F(),I("success","Success","User updated",3e3)})).catch((function(e){console.log(e)}))}},"Save Changes")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"redButton butt50",onClick:function(){0!=m&&p(a[m].user_id).then((function(){i(0),F(),I("success","Success","User deleted",3e3)})).catch((function(e){console.log(e)}))}},"Delete User"))):l.a.createElement(l.a.Fragment,null," ")))))}var W=a(45),q=(a(94),a(41));function z(e){var t=["https://banknotes.rba.gov.au/banknote-features/images/new-hundred/new-hundred-banknote.jpg","https://banknotes.rba.gov.au/banknote-features/images/new-fifty/new-fifty-banknote-flipped.jpg","https://banknotes.rba.gov.au/banknote-features/images/new-twenty/new-twenty-banknote.jpg","https://banknotes.rba.gov.au/banknote-features/images/new-ten/new-ten-banknote.jpg","https://banknotes.rba.gov.au/assets/images/australias-banknotes/banknotes-in-circulation/five-dollar-note-ngb.jpg","https://www.ramint.gov.au/sites/default/files/2019/Corporate_Website/Misc/large_australia_standard_rev_2_albr_circ_hh.jpg","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTpl9lyU7Ur2LoMAVXvFrDeUJ0ScpoJUCqQxN8nUCr2crguezM8BscYRtyJ4WuNQyBCnhALdgUp&usqp=CAc","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcR3yFDFiiAF-HstSWfOMCn1Dc5uClWqPWdsgQ&usqp=CAU","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSeldtPMMKKeXyC8_d5mnuwy8kyk42E4SQqgg&usqp=CAU","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcTsw4j1ctOC_FEbF1zuu-Z22rNCE-LzVfcyyjIWPYTP9Fza7aaNRytxzMJUoNveTGuaP6ab6nTJ&usqp=CAc","https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSlhrrPbtV4_71TPZ2-41OFkz4Yui3YM8J7xS9Tb5w16cc59h5ROowRWDEG9g&usqp=CAc"],a=Object(n.useState)(0),r=Object(o.a)(a,2),c=r[0],s=r[1],m=Object(n.useState)(!1),i=Object(o.a)(m,2),u=i[0],d=i[1],b=Object(n.useState)(""),g=Object(o.a)(b,2),p=g[0],E=g[1];function f(e){s(c+e)}return Object(n.useEffect)((function(){0!=c&&(c<e.toPay?(E("To Pay: $".concat((e.toPay-c).toFixed(2))),d(!1)):(E("Change: $".concat((c-e.toPay).toFixed(2))),d(!0)))}),[,c,e.toPay]),l.a.createElement("div",null,l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-body"},[100,50,20,10,5,2,1,.5,.2,.1,.05].map((function(e,a){return l.a.createElement(l.a.Fragment,null,a<=4&&l.a.createElement("div",{key:a,className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{style:{minWidth:"20vh",minHeight:"10vh",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(t[a],")")},onClick:function(){return f(e)}}))),a>4&&l.a.createElement("button",{key:a,style:{minWidth:"10vh",minHeight:"10vh",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(t[a],")")},onClick:function(){return f(e)}}))})),l.a.createElement("div",{className:"row no-gutters whiteBackground blueHighlight pl-2"},"TOTAL: $",e.toPay.toFixed(2)),l.a.createElement("div",{className:"row no-gutters whiteBackground blueHighlight pl-2"},"Paid: $",c),l.a.createElement("div",{className:"row no-gutters whiteBackground blueHighlight pl-2"},p||"To Pay: $".concat(e.toPay.toFixed(2)))),l.a.createElement("div",{className:"modal-footer"},e.closeModal?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",Object(q.a)({onClick:function(){s(0),d(!1),E("")},type:"button",className:"btn btn-secondary redButton butt50"},"onClick",e.closeModal),"Back"),u?l.a.createElement("button",{onClick:function(){e.subTrans(),s(0),d(!1),E("")},type:"button",className:"btn btn-primary greenButton butt50"},"Cash Transaction"):l.a.createElement(l.a.Fragment,null," ")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:function(){s(0),d(!1),E("")},type:"button",className:"btn btn-secondary redButton butt50","data-dismiss":"modal"},"Back"),u?l.a.createElement("button",{onClick:function(){e.subTrans(),s(0),d(!1),E("")},type:"button","data-dismiss":"modal",className:"btn btn-primary greenButton butt50"},"Cash Transaction"):l.a.createElement(l.a.Fragment,null," "))))))}function $(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-body"},l.a.createElement("h5",null,"Please tap/swipe/insert your card"),l.a.createElement("div",{className:"row no-gutters"},r),l.a.createElement("div",{className:"row no-gutters  whiteBackground blueHighlight"},l.a.createElement("div",{className:"col-md-12 pl-2"},"TOTAL: $",e.toPay.toFixed(2)))),l.a.createElement("div",{className:"modal-footer"},""===r&&l.a.createElement(l.a.Fragment,null,e.closeModal?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"redButton butt50",onClick:e.closeModal},"Back")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"redButton butt50","data-dismiss":"modal"},"Back")),e.toPay?l.a.createElement("button",{className:"greenButton butt50",onClick:function(){c("Processing..."),setTimeout((function(){c("Approved")}),3e3)}},"Trigger Payment (DEMO)"):l.a.createElement(l.a.Fragment,null)),"Approved"===r&&l.a.createElement(l.a.Fragment,null,e.closeModal?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"greenButton butt50",onClick:function(){e.subTrans(),c("")}},"OK")):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"greenButton butt50",onClick:function(){e.subTrans(),c("")},"data-dismiss":"modal"},"OK")))))))}function J(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),m=Object(o.a)(s,2),i=m[0],u=m[1],d=Object(n.useState)(0),b=Object(o.a)(d,2),g=b[0],p=b[1];function E(){u(0),p(g+r),c(e.toPay-(g+r))}function f(){u(0)}return l.a.createElement("div",null,1===i&&l.a.createElement(z,{subTrans:E,toPay:r,closeModal:f}),2===i&&l.a.createElement($,{subTrans:E,toPay:r,closeModal:f}),0===i&&l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content blueBackground"},l.a.createElement("div",{className:"modal-body"},l.a.createElement("h5",null,"Split Payment"),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("input",{type:"number",step:"0.05",onChange:function(e){c(parseFloat(e.target.value))},value:r})),l.a.createElement("div",{className:"row no-gutters mb-3"},r?l.a.createElement(l.a.Fragment,null,r<=e.toPay-g&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"greenButton butt25 mr-3 mt-2",onClick:function(){u(1)}},"Cash"),l.a.createElement("button",{className:"greenButton butt25 mt-2",onClick:function(){u(2)}},"Eft")),r>e.toPay-g&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"greenButton butt25 mr-3 mt-2",onClick:function(){I("error","Error","Amount must be leas than total amount remaining",3e3)}},"Cash"),l.a.createElement("button",{className:"greenButton butt25 mt-2",onClick:function(){I("error","Error","Amount must be leas than total amount remaining",3e3)}},"Eft"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"greenButton butt25 mr-3 mt-2",onClick:function(){I("error","Error","Amount must be greater than 0",3e3)}},"Cash"),l.a.createElement("button",{className:"greenButton butt25 mt-2",onClick:function(){I("error","Error","Amount must be greater than 0",3e3)}},"Eft"))),l.a.createElement("div",{className:"row no-gutters whiteBackground blueHighlight"},l.a.createElement("div",{className:"col-md-12 pl-2"},"TOTAL remaining: $",(e.toPay-g).toFixed(2)))),l.a.createElement("div",{className:"modal-footer"},0==g&&l.a.createElement("button",{className:"redButton butt50",onClick:function(){c(0)},"data-dismiss":"modal"},"Back"),e.toPay>0&&g>=e.toPay&&l.a.createElement("button",{onClick:function(){p(0),c(0),e.subTrans()},className:"greenButton butt50","data-dismiss":"modal"},"Finalise Transaction")))))}var G=a(42),K=a(13),Y=a.n(K);function Q(){var e=Object(n.useContext)(T),t=e.state,a=e.setState,r=Object(n.useState)([]),c=Object(o.a)(r,2),s=c[0],m=c[1],i=Object(n.useState)("col-12"),u=Object(o.a)(i,2),d=u[0],b=u[1],g=Object(n.useState)([]),p=Object(o.a)(g,2),f=p[0],h=p[1],k=Object(n.useState)([]),y=Object(o.a)(k,2),w=y[0],P=y[1],F=Object(n.useState)([]),M=Object(o.a)(F,2),_=M[0],L=M[1],A=Object(n.useState)(0),V=Object(o.a)(A,2),H=V[0],U=V[1],R=Object(n.useState)(!1),q=Object(o.a)(R,2),Q=q[0],X=q[1],Z=Object(n.useState)(0),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(0),le=Object(o.a)(ne,2),re=le[0],ce=le[1],oe=Object(n.useState)(0),se=Object(o.a)(oe,2),me=se[0],ie=se[1],ue=Object(n.useState)(""),de=Object(o.a)(ue,2),be=de[0],ge=de[1],pe=Object(n.useState)({dep:-1,item:-1}),Ee=Object(o.a)(pe,2),fe=Ee[0],he=Ee[1],Ne=Object(K.useSpeechRecognition)(),ve=Ne.transcript,ke=Ne.listening,ye=Ne.finalTranscript,we=Ne.resetTranscript,Ce=Object(n.useState)(0),Oe=Object(o.a)(Ce,2),Se=Oe[0],Be=Oe[1],je=Object(n.useState)([]),Te=Object(o.a)(je,2),Pe=Te[0],Fe=Te[1];function xe(e){0!=w.length&&(0!=Pe.length&&Fe([]),e<=20&&w.forEach((function(e){if("cold"===e.upsell&&e.stockCount>5){var t=Pe;0!=t.length?t[t.length-1].prod_id!=e.prod_id&&(t.push(e),Fe(t)):(t.push(e),Fe(t))}})),e>20&&w.forEach((function(e){if("hot"===e.upsell&&e.stockCount>5){var t=Pe;0!=t.length?t[t.length-1].prod_id!=e.prod_id&&(t.push(e),Fe(t)):(t.push(e),Fe(t))}})),Fe(function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e}(Pe).slice(0,1)),console.log(Pe))}function Me(){Ie(),he({dep:-1,item:-1}),clearTimeout(),X(!1),L([]),U(0)}function De(){if(0!=_.length){var e=t;e.totTime=e.totTime+parseInt(document.getElementById("timerEl").innerHTML),e.totalTrans+=1,a(e),ie(me+1),ce(re+H);var n={user:t.user_id,transItems:_.toString(),transValue:100*H};console.log(t.totTime+"/"+t.totalTrans+"="+t.totTime/t.totalTrans),O(n).then((function(){var e=w;_.forEach((function(t,a){console.log(e[t-1].cost),e[t-1].cost=e[t-1].cost/100,e[t-1].price=e[t-1].price/100,e[t-1].stockCount=e[t-1].stockCount-1,C(e[t-1]),Me()}))})).catch((function(e){return console.log(e)}))}}function Ie(){0===w.length&&j().then((function(e){Be(e.data.main.feels_like-273),xe(Math.round(e.data.main.feels_like-273))})).catch((function(e){console.log(e)})),v().then((function(e){console.log(e.data),P(e.data)})).catch((function(e){console.log(e)}))}function _e(e){if(w.length>0){var t=[];w.forEach((function(a){a.department===e&&t.push(a)})),h(t)}else N(e-1).then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}function Le(e){xe(Se),console.log(e),he({dep:-1,item:-1}),X(!0),L([].concat(Object(W.a)(_),[e])),U(H+w[e-1].price/100)}function Ae(e){Y.a.browserSupportsSpeechRecognition()?B(ve).then((function(e){console.log(e.data),null!=e.data[0]?he({dep:e.data[0].department,item:e.data[0].prod_id}):I("error","Error","Could not find item",3e3),we()})):(e.preventDefault(),console.log("no speech recognition"),B(be).then((function(e){console.log(e.data),he({dep:e.data[0].department,item:e.data[0].prod_id}),ge("")})))}switch(Object(n.useEffect)((function(){E().then((function(e){return m(e.data),e.data.length>6?b("col-2"):b("col-".concat(Math.round(12/e.data.length))),console.log(e.data),Ie(),e})).then((function(e){_e(e.data[0].dept_id)})).then((function(){0===t&&(S(),ae(10))})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){""!=ye&&!1===ke&&Ae()}),[ke]),te){case 1:return l.a.createElement(x.a,{to:"/pos"});case 2:return l.a.createElement(x.a,{to:"/userdesigner"});case 3:return l.a.createElement(x.a,{to:"/itemdesigner"});case 4:case 5:return l.a.createElement(x.a,{to:"/pos"});case 6:return l.a.createElement(x.a,{to:"/stocktake"});case 7:case 8:case 9:return l.a.createElement(x.a,{to:"/pos"});case 10:return a(0),l.a.createElement(x.a,{to:"/logout"})}return l.a.createElement("div",null,l.a.createElement(D.NotificationContainer,null),l.a.createElement("div",{className:"modal fade",id:"cashModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","data-backdrop":"static","data-keyboard":"false","aria-hidden":"true"},l.a.createElement(z,{subTrans:De,toPay:H})),l.a.createElement("div",{className:"modal fade",id:"eftModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","data-backdrop":"static","data-keyboard":"false","aria-hidden":"true"},l.a.createElement($,{subTrans:De,toPay:H})),l.a.createElement("div",{className:"modal fade",id:"splitModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","data-backdrop":"static","data-keyboard":"false","aria-hidden":"true"},l.a.createElement(J,{subTrans:De,toPay:H})),l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light altColor"},l.a.createElement("button",{className:"mr-auto greenButton butt10 ",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Menu"),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},t.userDesigner?l.a.createElement("a",{onClick:function(){ae(2)},className:"dropdown-item dropDownMenuHighlight"},"User Designer"):l.a.createElement(l.a.Fragment,null),t.itemDesigner?l.a.createElement("a",{onClick:function(){ae(3)},className:"dropdown-item dropDownMenuHighlight"},"Item Designer"):l.a.createElement(l.a.Fragment,null),t.keyLayout?l.a.createElement("a",{onClick:function(){ae(4)},className:"dropdown-item dropDownMenuHighlight"},"POS Layout Editor"):l.a.createElement(l.a.Fragment,null),t.balances?l.a.createElement("a",{onClick:function(){ae(5)},className:"dropdown-item dropDownMenuHighlight"},"User Balance"):l.a.createElement(l.a.Fragment,null),t.stocktake?l.a.createElement("a",{onClick:function(){ae(6)},className:"dropdown-item dropDownMenuHighlight"},"Stocktake"):l.a.createElement(l.a.Fragment,null),t.reports?l.a.createElement("a",{onClick:function(){ae(7)},className:"dropdown-item dropDownMenuHighlight"},"Reports"):l.a.createElement(l.a.Fragment,null),t.membership?l.a.createElement("a",{onClick:function(){ae(8)},className:"dropdown-item dropDownMenuHighlight"},"Membership"):l.a.createElement(l.a.Fragment,null),t.advertising?l.a.createElement("a",{onClick:function(){ae(9)},className:"dropdown-item dropDownMenuHighlight"},"Advertising"):l.a.createElement(l.a.Fragment,null)),l.a.createElement("button",{onClick:function(){S(),ae(10)},className:"my-2 my-sm-0 redButton butt10",type:"submit"},"Sign Out")),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-3 whiteBackground"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12 leftMenuHeight"},l.a.createElement("h5",{className:"pl-3"},"Upsell Window"),Se?l.a.createElement("div",{className:"pl-3"},"Current Temperature: ",Se.toFixed(0)," degrees"):l.a.createElement(l.a.Fragment,null),Pe[0]?l.a.createElement(l.a.Fragment,null,Pe.map((function(e,t){return l.a.createElement("div",{key:t,className:"col-md-2 centerText"},fe.item===Pe[t].prod_id&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton attention",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[Pe[t].prod_id].stockCount>0?Le(e.prod_id):I("error","Error","Item out of stock",3e3)}}),l.a.createElement("label",{className:"d-block"},e.name)),fe.item!==Pe[t].prod_id&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton ",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[Pe[t].prod_id].stockCount>0?Le(e.prod_id):I("error","Error","Item out of stock",3e3)}}),l.a.createElement("label",{className:"d-block"},e.name)))}))):l.a.createElement(l.a.Fragment,null,"No Upsells Available"))),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12 leftMenuHeight"},l.a.createElement("h5",{className:"pl-3"},"KPI"),l.a.createElement("h6",{className:"pl-3"},"Transaction Time -",Q?l.a.createElement(G.a,{interval:1e3,start:0,end:function(e){return!1},onTick:function(e){return e+1}},(function(e){return l.a.createElement("span",{id:"timerEl"},e)})):l.a.createElement(l.a.Fragment,null,"0")," secs"),l.a.createElement("h6",{className:"pl-3"},"Avg Transaction Time - ",t.totalTrans&&t.totTime?t.totTime/t.totalTrans:0," secs"),l.a.createElement("h6",{className:"pl-3"},"SPC - ",re/me)))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"row no-gutters"},s[0]?l.a.createElement(l.a.Fragment,null," ",s.map((function(e,t){return l.a.createElement("div",{key:t,className:d},fe.dep===t+1&&l.a.createElement("div",{className:"centerText"},l.a.createElement("button",{className:"roundButton whiteButton mt-3 attention",onClick:function(){_e(s[t].dept_id)}},e.name)),fe.dep!==t+1&&l.a.createElement("div",{className:"centerText"},l.a.createElement("button",{className:"roundButton whiteButton mt-3",style:{backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){_e(s[t].dept_id)}},e.name)))}))):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("form",{className:"form-inline my-2 my-lg-0 p-3 py-4"},Y.a.browserSupportsSpeechRecognition()?l.a.createElement(l.a.Fragment,null,ve?l.a.createElement("button",{className:"voiceSearch butt100 py-3",onClick:function(e){e.preventDefault(),Y.a.startListening()},type:"search"},ve):l.a.createElement("button",{className:"voiceSearch butt100 py-3",onClick:function(e){e.preventDefault(),Y.a.startListening()},type:"search"},"Click to voice search")):l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"voiceSearch butt75 py-3 pl-2",value:be,onChange:function(e){ge(e.target.value)},type:"search",placeholder:"Search","aria-label":"Search"}),l.a.createElement("button",{className:"greenButton butt25",onClick:function(e){Ae(e)}},"Search"))))),l.a.createElement("div",{className:"row no-gutters"},f[0]?l.a.createElement(l.a.Fragment,null,f.map((function(e,t){return l.a.createElement("div",{key:t,className:"col-2 centerText"},fe.item===f[t].prod_id&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton attention",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[t].stockCount>0?Le(f[t].prod_id):I("error","Error","Item out of stock",3e3)}}),l.a.createElement("label",{className:"d-block"},e.name)),fe.item!==f[t].prod_id&&l.a.createElement(l.a.Fragment,null,e.stockCount>=10&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton ",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[t].stockCount>0?Le(f[t].prod_id):I("error","Error","Item out of stock",3e3)}}),l.a.createElement("label",{className:"d-block"},e.name)),e.stockCount<10&&e.stockCount>5&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton lowStock",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[t].stockCount>0?Le(f[t].prod_id):I("error","Error","Item out of stock",3e3)}},"LOW STOCK"),l.a.createElement("label",{className:"d-block"},e.name)),e.stockCount<=5&&l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"roundButton whiteButton noStock",style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(e.iconPath,")")},onClick:function(){f[t].stockCount>0?Le(f[t].prod_id):I("error","Error","Item out of stock",3e3)}},"Only ",f[t].stockCount," Left"),l.a.createElement("label",{className:"d-block"},e.name))))}))):l.a.createElement(l.a.Fragment,null))),l.a.createElement("div",{className:"col-md-3 whiteBackground"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12 rightMenuHeight"},l.a.createElement("div",{className:"row  no-gutters"},l.a.createElement("h5",{className:"pl-3 mr-auto"},"Current Transaction"),l.a.createElement("button",{className:"redButton butt25 mt-1",onClick:Me},"Clear")),l.a.createElement("div",{className:"row  no-gutters"},_[0]?l.a.createElement("ul",null,_.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},w[e-1].name),l.a.createElement("div",{className:"col-md-4"},(w[e-1].price/100).toFixed(2))))}))):l.a.createElement("h6",{className:"pl-3"},"Cart Empty")))),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-12 rightMenuHeight"},l.a.createElement("h4",{className:"pl-3"},"TOTAL: $",H.toFixed(2)),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement("div",{className:"row  no-gutters"},l.a.createElement("h5",{className:"pl-3"},"Payment Options")),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50 mt-4 ml-3","data-toggle":"modal","data-target":"#cashModal"},"Cash")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50 mt-4 ml-3","data-toggle":"modal","data-target":"#eftModal"},"Eft"))),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50 mt-4 ml-3","data-toggle":"modal","data-target":"#splitModal"},"Split"))))))))}var X=a(15),Z=a.n(X),ee=a(43),te=a(44);function ae(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),m=(s[0],s[1]),i=Object(n.useState)([]),u=Object(o.a)(i,2);u[0],u[1];function d(){v().then((function(e){r(e.data),m(e.data)})).catch((function(e){console.log(e)}))}function b(){return(b=Object(te.a)(Z.a.mark((function e(){var t,n,l,r,c,o,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a,n=document.getElementsByClassName("inpBox"),l=0;l<n.length;l++)r=parseInt(n[l].value),t[l].stockCount+=r,n[l].value="";c=Object(ee.a)(t),e.prev=5,c.s();case 7:if((o=c.n()).done){e.next=17;break}if(!((s=o.value).stockCount>=0)){e.next=15;break}return console.log(s),s.cost=s.cost/100,s.price=s.price/100,e.next=15,C(s);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),c.e(e.t0);case 22:return e.prev=22,c.f(),e.finish(22);case 25:d(),I("success","Success","Stock updated",3e3);case 27:case"end":return e.stop()}}),e,null,[[5,19,22,25]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){d()}),[]),l.a.createElement("div",{className:"row no-gutters"},l.a.createElement(D.NotificationContainer,null),l.a.createElement("div",{className:"col-md-3 text-center"},l.a.createElement(V,null)),l.a.createElement("div",{className:"col-md-9 d-flex justify-content-center"},l.a.createElement("div",{className:"container blueBackground"},a[0]?l.a.createElement("div",{className:"row pt-12"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h3",null,"Stock"))):l.a.createElement(l.a.Fragment,null),a[0]?a.map((function(e,t){return l.a.createElement("div",{key:t,className:"row whiteBackground blueHighlight mtb-2 pb-3"},l.a.createElement("div",{className:"col-md-2"},e.name),l.a.createElement("div",{className:"col-md-3"},"Receive Stock:",l.a.createElement("input",{className:"inpBox",type:"number"})),l.a.createElement("div",{className:"col-md-3"},"Inventory Count: ",e.stockCount))})):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"greenButton butt50 mtb-2",onClick:function(){return b.apply(this,arguments)}},"Save Changes"))))))}var ne=function(){return l.a.createElement("div",null,l.a.createElement(F,null,l.a.createElement(L.a,null,l.a.createElement(x.d,null,l.a.createElement(x.b,{path:"/pos"},l.a.createElement(Q,null)),l.a.createElement(x.b,{path:"/userdesigner"},l.a.createElement(R,null)),l.a.createElement(x.b,{path:"/itemdesigner"},l.a.createElement(H,null)),l.a.createElement(x.b,{path:"/stocktake"},l.a.createElement(ae,null)),l.a.createElement(x.b,{path:"/"},l.a.createElement(_,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a(101)},51:function(e,t,a){},52:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},53:function(e,t,a){},54:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.cff35607.chunk.js.map